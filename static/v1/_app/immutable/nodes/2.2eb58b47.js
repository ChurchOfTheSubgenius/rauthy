import{S as je,i as Pe,s as Re,k as h,q as A,a as R,y as Q,l as v,m as g,r as S,h as f,c as C,z as X,n as I,b as T,G as u,A as Z,u as de,g as P,d as F,B as x,v as ge,f as we,J as Ys,K as Rs,L as Xt,M as Hs,w as H,N as J,O as Js,P as zs,Q as z,H as ts,e as It,o as Us,R as ss,T as Qs,U as Nt,p as Zt,V as Et,I as Xs,W as Zs}from"../chunks/index.fdf84907.js";import{f as Ye,g as xs,e as Ws,a as en,R as Cs,p as tn,w as sn,b as yt,c as Se,d as nn,h as rn,i as ln,j as an,k as Gs,r as xt,l as on,m as un}from"../chunks/dataFetching.f2a9713f.js";import{L as fn}from"../chunks/Loading.56028b8e.js";import{C as Jt,T as cn}from"../chunks/Tooltip.c0b36c84.js";import{B as be}from"../chunks/Button.80ee52cd.js";import{c as Ls,a as He,I as zt}from"../chunks/Input.78a87232.js";import{b as dn,f as Dt}from"../chunks/Loading.a4841b1e.js";import{P as Qt,t as Ks}from"../chunks/PasswordInput.969a95d0.js";import{P as _n}from"../chunks/PasswordPolicy.6f8aa5cb.js";import{B as pn}from"../chunks/BrowserCheck.ea95e5bb.js";function mn(s){let e,t,n,r,a,i,o,l=s[0].email+"",c,d,_,p,k,B,N,b,O=s[0].given_name+"",G,$,M,q,V,L,D,w,ne=s[0].family_name+"",le,ve,te,ue,me,ie,he,j,K=s[0].id+"",U,se,ee,ce,E,m,y,re,ae=(s[0].roles||"None")+"",fe,_e,oe,Ce,Je,Vt,qt,Fe,ze=(s[0].groups||"None")+"",at,At,$e,Me,Qe,St,jt,Ee,Pt,ye,Te,Xe,Rt,Ct,ke,Ft,Ie,Be,Ze,Mt,Tt,Ne,Bt,De,Oe,xe,Ot,Ut,Ue,et=Ye(s[0].last_login)+"",ot,Wt,Ve,We,tt,Gt,Lt,Ge,st=(s[0].password_expires&&Ye(s[0].password_expires)||"Never")+"",ut,Kt,qe,Le,nt,Yt,Ht,Ke,rt=Ye(s[0].created_at)+"",ft,pe;return Ee=new Jt({props:{check:s[0].mfa_app||s[0].sec_key_1||s[0].sec_key_2}}),ke=new Jt({props:{check:s[0].enabled}}),Ne=new Jt({props:{check:s[0].email_verified}}),{c(){e=h("div"),t=h("div"),n=h("div"),r=h("b"),a=A("E-Mail:"),i=R(),o=h("span"),c=A(l),d=R(),_=h("div"),p=h("div"),k=h("b"),B=A("Given Name:"),N=R(),b=h("span"),G=A(O),$=R(),M=h("div"),q=h("div"),V=h("b"),L=A("Family Name:"),D=R(),w=h("span"),le=A(ne),ve=R(),te=h("div"),ue=h("div"),me=h("b"),ie=A("User ID:"),he=R(),j=h("span"),U=A(K),se=R(),ee=h("div"),ce=h("div"),E=h("b"),m=A("Roles:"),y=R(),re=h("span"),fe=A(ae),_e=R(),oe=h("div"),Ce=h("div"),Je=h("b"),Vt=A("Groups:"),qt=R(),Fe=h("span"),at=A(ze),At=R(),$e=h("div"),Me=h("div"),Qe=h("b"),St=A("MFA activated:"),jt=R(),Q(Ee.$$.fragment),Pt=R(),ye=h("div"),Te=h("div"),Xe=h("b"),Rt=A("User enabled:"),Ct=R(),Q(ke.$$.fragment),Ft=R(),Ie=h("div"),Be=h("div"),Ze=h("b"),Mt=A("E-Mail verified:"),Tt=R(),Q(Ne.$$.fragment),Bt=R(),De=h("div"),Oe=h("div"),xe=h("b"),Ot=A("Last Login:"),Ut=R(),Ue=h("span"),ot=A(et),Wt=R(),Ve=h("div"),We=h("div"),tt=h("b"),Gt=A("Password expiry:"),Lt=R(),Ge=h("span"),ut=A(st),Kt=R(),qe=h("div"),Le=h("div"),nt=h("b"),Yt=A("User created at:"),Ht=R(),Ke=h("span"),ft=A(rt),this.h()},l(Y){e=v(Y,"DIV",{class:!0});var W=g(e);t=v(W,"DIV",{class:!0});var Ae=g(t);n=v(Ae,"DIV",{class:!0});var lt=g(n);r=v(lt,"B",{});var it=g(r);a=S(it,"E-Mail:"),it.forEach(f),lt.forEach(f),i=C(Ae),o=v(Ae,"SPAN",{class:!0});var ns=g(o);c=S(ns,l),ns.forEach(f),Ae.forEach(f),d=C(W),_=v(W,"DIV",{class:!0});var ct=g(_);p=v(ct,"DIV",{class:!0});var rs=g(p);k=v(rs,"B",{});var ls=g(k);B=S(ls,"Given Name:"),ls.forEach(f),rs.forEach(f),N=C(ct),b=v(ct,"SPAN",{class:!0});var is=g(b);G=S(is,O),is.forEach(f),ct.forEach(f),$=C(W),M=v(W,"DIV",{class:!0});var dt=g(M);q=v(dt,"DIV",{class:!0});var as=g(q);V=v(as,"B",{});var os=g(V);L=S(os,"Family Name:"),os.forEach(f),as.forEach(f),D=C(dt),w=v(dt,"SPAN",{class:!0});var us=g(w);le=S(us,ne),us.forEach(f),dt.forEach(f),ve=C(W),te=v(W,"DIV",{class:!0});var _t=g(te);ue=v(_t,"DIV",{class:!0});var fs=g(ue);me=v(fs,"B",{});var cs=g(me);ie=S(cs,"User ID:"),cs.forEach(f),fs.forEach(f),he=C(_t),j=v(_t,"SPAN",{class:!0});var ds=g(j);U=S(ds,K),ds.forEach(f),_t.forEach(f),se=C(W),ee=v(W,"DIV",{class:!0});var pt=g(ee);ce=v(pt,"DIV",{class:!0});var _s=g(ce);E=v(_s,"B",{});var ps=g(E);m=S(ps,"Roles:"),ps.forEach(f),_s.forEach(f),y=C(pt),re=v(pt,"SPAN",{class:!0});var ms=g(re);fe=S(ms,ae),ms.forEach(f),pt.forEach(f),_e=C(W),oe=v(W,"DIV",{class:!0});var mt=g(oe);Ce=v(mt,"DIV",{class:!0});var hs=g(Ce);Je=v(hs,"B",{});var vs=g(Je);Vt=S(vs,"Groups:"),vs.forEach(f),hs.forEach(f),qt=C(mt),Fe=v(mt,"SPAN",{class:!0});var gs=g(Fe);at=S(gs,ze),gs.forEach(f),mt.forEach(f),At=C(W),$e=v(W,"DIV",{class:!0});var ht=g($e);Me=v(ht,"DIV",{class:!0});var ws=g(Me);Qe=v(ws,"B",{});var bs=g(Qe);St=S(bs,"MFA activated:"),bs.forEach(f),ws.forEach(f),jt=C(ht),X(Ee.$$.fragment,ht),ht.forEach(f),Pt=C(W),ye=v(W,"DIV",{class:!0});var vt=g(ye);Te=v(vt,"DIV",{class:!0});var $s=g(Te);Xe=v($s,"B",{});var Es=g(Xe);Rt=S(Es,"User enabled:"),Es.forEach(f),$s.forEach(f),Ct=C(vt),X(ke.$$.fragment,vt),vt.forEach(f),Ft=C(W),Ie=v(W,"DIV",{class:!0});var gt=g(Ie);Be=v(gt,"DIV",{class:!0});var ys=g(Be);Ze=v(ys,"B",{});var ks=g(Ze);Mt=S(ks,"E-Mail verified:"),ks.forEach(f),ys.forEach(f),Tt=C(gt),X(Ne.$$.fragment,gt),gt.forEach(f),Bt=C(W),De=v(W,"DIV",{class:!0});var wt=g(De);Oe=v(wt,"DIV",{class:!0});var Is=g(Oe);xe=v(Is,"B",{});var Ns=g(xe);Ot=S(Ns,"Last Login:"),Ns.forEach(f),Is.forEach(f),Ut=C(wt),Ue=v(wt,"SPAN",{class:!0});var Ds=g(Ue);ot=S(Ds,et),Ds.forEach(f),wt.forEach(f),Wt=C(W),Ve=v(W,"DIV",{class:!0});var bt=g(Ve);We=v(bt,"DIV",{class:!0});var Vs=g(We);tt=v(Vs,"B",{});var qs=g(tt);Gt=S(qs,"Password expiry:"),qs.forEach(f),Vs.forEach(f),Lt=C(bt),Ge=v(bt,"SPAN",{class:!0});var As=g(Ge);ut=S(As,st),As.forEach(f),bt.forEach(f),Kt=C(W),qe=v(W,"DIV",{class:!0});var $t=g(qe);Le=v($t,"DIV",{class:!0});var Ss=g(Le);nt=v(Ss,"B",{});var js=g(nt);Yt=S(js,"User created at:"),js.forEach(f),Ss.forEach(f),Ht=C($t),Ke=v($t,"SPAN",{class:!0});var Ps=g(Ke);ft=S(Ps,rt),Ps.forEach(f),$t.forEach(f),W.forEach(f),this.h()},h(){I(n,"class","label svelte-gtuhqj"),I(o,"class","value svelte-gtuhqj"),I(t,"class","row svelte-gtuhqj"),I(p,"class","label svelte-gtuhqj"),I(b,"class","value svelte-gtuhqj"),I(_,"class","row svelte-gtuhqj"),I(q,"class","label svelte-gtuhqj"),I(w,"class","value svelte-gtuhqj"),I(M,"class","row svelte-gtuhqj"),I(ue,"class","label svelte-gtuhqj"),I(j,"class","value svelte-gtuhqj"),I(te,"class","row svelte-gtuhqj"),I(ce,"class","label svelte-gtuhqj"),I(re,"class","value svelte-gtuhqj"),I(ee,"class","row svelte-gtuhqj"),I(Ce,"class","label svelte-gtuhqj"),I(Fe,"class","value svelte-gtuhqj"),I(oe,"class","row svelte-gtuhqj"),I(Me,"class","label svelte-gtuhqj"),I($e,"class","row svelte-gtuhqj"),I(Te,"class","label svelte-gtuhqj"),I(ye,"class","row svelte-gtuhqj"),I(Be,"class","label svelte-gtuhqj"),I(Ie,"class","row svelte-gtuhqj"),I(Oe,"class","label svelte-gtuhqj"),I(Ue,"class","value svelte-gtuhqj"),I(De,"class","row svelte-gtuhqj"),I(We,"class","label svelte-gtuhqj"),I(Ge,"class","value svelte-gtuhqj"),I(Ve,"class","row svelte-gtuhqj"),I(Le,"class","label svelte-gtuhqj"),I(Ke,"class","value svelte-gtuhqj"),I(qe,"class","row svelte-gtuhqj"),I(e,"class","container svelte-gtuhqj")},m(Y,W){T(Y,e,W),u(e,t),u(t,n),u(n,r),u(r,a),u(t,i),u(t,o),u(o,c),u(e,d),u(e,_),u(_,p),u(p,k),u(k,B),u(_,N),u(_,b),u(b,G),u(e,$),u(e,M),u(M,q),u(q,V),u(V,L),u(M,D),u(M,w),u(w,le),u(e,ve),u(e,te),u(te,ue),u(ue,me),u(me,ie),u(te,he),u(te,j),u(j,U),u(e,se),u(e,ee),u(ee,ce),u(ce,E),u(E,m),u(ee,y),u(ee,re),u(re,fe),u(e,_e),u(e,oe),u(oe,Ce),u(Ce,Je),u(Je,Vt),u(oe,qt),u(oe,Fe),u(Fe,at),u(e,At),u(e,$e),u($e,Me),u(Me,Qe),u(Qe,St),u($e,jt),Z(Ee,$e,null),u(e,Pt),u(e,ye),u(ye,Te),u(Te,Xe),u(Xe,Rt),u(ye,Ct),Z(ke,ye,null),u(e,Ft),u(e,Ie),u(Ie,Be),u(Be,Ze),u(Ze,Mt),u(Ie,Tt),Z(Ne,Ie,null),u(e,Bt),u(e,De),u(De,Oe),u(Oe,xe),u(xe,Ot),u(De,Ut),u(De,Ue),u(Ue,ot),u(e,Wt),u(e,Ve),u(Ve,We),u(We,tt),u(tt,Gt),u(Ve,Lt),u(Ve,Ge),u(Ge,ut),u(e,Kt),u(e,qe),u(qe,Le),u(Le,nt),u(nt,Yt),u(qe,Ht),u(qe,Ke),u(Ke,ft),pe=!0},p(Y,[W]){(!pe||W&1)&&l!==(l=Y[0].email+"")&&de(c,l),(!pe||W&1)&&O!==(O=Y[0].given_name+"")&&de(G,O),(!pe||W&1)&&ne!==(ne=Y[0].family_name+"")&&de(le,ne),(!pe||W&1)&&K!==(K=Y[0].id+"")&&de(U,K),(!pe||W&1)&&ae!==(ae=(Y[0].roles||"None")+"")&&de(fe,ae),(!pe||W&1)&&ze!==(ze=(Y[0].groups||"None")+"")&&de(at,ze);const Ae={};W&1&&(Ae.check=Y[0].mfa_app||Y[0].sec_key_1||Y[0].sec_key_2),Ee.$set(Ae);const lt={};W&1&&(lt.check=Y[0].enabled),ke.$set(lt);const it={};W&1&&(it.check=Y[0].email_verified),Ne.$set(it),(!pe||W&1)&&et!==(et=Ye(Y[0].last_login)+"")&&de(ot,et),(!pe||W&1)&&st!==(st=(Y[0].password_expires&&Ye(Y[0].password_expires)||"Never")+"")&&de(ut,st),(!pe||W&1)&&rt!==(rt=Ye(Y[0].created_at)+"")&&de(ft,rt)},i(Y){pe||(P(Ee.$$.fragment,Y),P(ke.$$.fragment,Y),P(Ne.$$.fragment,Y),pe=!0)},o(Y){F(Ee.$$.fragment,Y),F(ke.$$.fragment,Y),F(Ne.$$.fragment,Y),pe=!1},d(Y){Y&&f(e),x(Ee),x(ke),x(Ne)}}}function hn(s,e,t){let{user:n={}}=e;return s.$$set=r=>{"user"in r&&t(0,n=r.user)},[n]}class vn extends je{constructor(e){super(),Pe(this,e,hn,mn,Re,{user:0})}}function Fs(s,e,t){const n=s.slice();return n[8]=e[t],n[9]=e,n[10]=t,n}function gn(s){let e=s[8]+"",t,n;return{c(){t=A(e),n=R()},l(r){t=S(r,e),n=C(r)},m(r,a){T(r,t,a),T(r,n,a)},p:ts,d(r){r&&f(t),r&&f(n)}}}function Ms(s){let e,t,n;const r=[{level:3},s[3]];function a(c){s[4](c,s[10])}function i(){return s[5](s[8])}function o(){return s[6](s[8])}let l={$$slots:{default:[gn]},$$scope:{ctx:s}};for(let c=0;c<r.length;c+=1)l=Xt(l,r[c]);return s[1][s[10]]!==void 0&&(l.selected=s[1][s[10]]),e=new be({props:l}),H.push(()=>J(e,"selected",a)),e.$on("click",i),e.$on("keypress",o),{c(){Q(e.$$.fragment)},l(c){X(e.$$.fragment,c)},m(c,d){Z(e,c,d),n=!0},p(c,d){s=c;const _=d&8?Js(r,[r[0],zs(s[3])]):{};d&2048&&(_.$$scope={dirty:d,ctx:s}),!t&&d&2&&(t=!0,_.selected=s[1][s[10]],z(()=>t=!1)),e.$set(_)},i(c){n||(P(e.$$.fragment,c),n=!0)},o(c){F(e.$$.fragment,c),n=!1},d(c){x(e,c)}}}function wn(s){let e,t,n=s[2],r=[];for(let i=0;i<n.length;i+=1)r[i]=Ms(Fs(s,n,i));const a=i=>F(r[i],1,1,()=>{r[i]=null});return{c(){e=h("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var o=g(e);for(let l=0;l<r.length;l+=1)r[l].l(o);o.forEach(f),this.h()},h(){I(e,"class","container noselect svelte-jwehp2")},m(i,o){T(i,e,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);t=!0},p(i,[o]){if(o&15){n=i[2];let l;for(l=0;l<n.length;l+=1){const c=Fs(i,n,l);r[l]?(r[l].p(c,o),P(r[l],1)):(r[l]=Ms(c),r[l].c(),P(r[l],1),r[l].m(e,null))}for(ge(),l=n.length;l<r.length;l+=1)a(l);we()}},i(i){if(!t){for(let o=0;o<n.length;o+=1)P(r[o]);t=!0}},o(i){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)F(r[o]);t=!1},d(i){i&&f(e),Ys(r,i)}}}function bn(s,e,t){const n=["selected"];let r=Rs(e,n),{selected:a="INFO"}=e,i=["INFO","EDIT","MFA","LOGOUT"],o=[];function l(){let p=[];for(let k of i)p.push(a===k);t(1,o=p)}function c(p,k){s.$$.not_equal(o[k],p)&&(o[k]=p,t(1,o))}const d=p=>t(0,a=p),_=p=>t(0,a=p);return s.$$set=p=>{e=Xt(Xt({},e),Hs(p)),t(3,r=Rs(e,n)),"selected"in p&&t(0,a=p.selected)},s.$$.update=()=>{s.$$.dirty&1&&a&&l()},[a,o,i,r,c,d,_]}class $n extends je{constructor(e){super(),Pe(this,e,bn,wn,Re,{selected:0})}}function Ts(s){let e,t,n,r,a,i,o,l,c,d,_,p,k,B,N,b,O,G,$,M,q,V,L,D,w;function ne(m){s[10](m)}function le(m){s[11](m)}function ve(m){s[12](m)}let te={};s[4]!==void 0&&(te.accepted=s[4]),s[6]!==void 0&&(te.policy=s[6]),s[0].new!==void 0&&(te.password=s[0].new),t=new _n({props:te}),H.push(()=>J(t,"accepted",ne)),H.push(()=>J(t,"policy",le)),H.push(()=>J(t,"password",ve));function ue(m){s[13](m)}function me(m){s[14](m)}let ie={autocomplete:"current-password",placeholder:"Current Password",width:s[2],$$slots:{default:[En]},$$scope:{ctx:s}};s[0].current!==void 0&&(ie.value=s[0].current),s[7].current!==void 0&&(ie.error=s[7].current),o=new Qt({props:ie}),H.push(()=>J(o,"value",ue)),H.push(()=>J(o,"error",me)),o.$on("input",s[3]);function he(m){s[15](m)}function j(m){s[16](m)}function K(m){s[17](m)}let U={autocomplete:"new-password",placeholder:"New Password",width:s[2],$$slots:{default:[yn]},$$scope:{ctx:s}};s[0].new!==void 0&&(U.value=s[0].new),s[7].new!==void 0&&(U.error=s[7].new),s[8]!==void 0&&(U.showCopy=s[8]),_=new Qt({props:U}),H.push(()=>J(_,"value",he)),H.push(()=>J(_,"error",j)),H.push(()=>J(_,"showCopy",K)),_.$on("input",s[3]);function se(m){s[18](m)}function ee(m){s[19](m)}function ce(m){s[20](m)}let E={autocomplete:"new-password",placeholder:"New Password",width:s[2],$$slots:{default:[kn]},$$scope:{ctx:s}};return s[0].verify!==void 0&&(E.value=s[0].verify),s[7].verify!==void 0&&(E.error=s[7].verify),s[8]!==void 0&&(E.showCopy=s[8]),b=new Qt({props:E}),H.push(()=>J(b,"value",se)),H.push(()=>J(b,"error",ee)),H.push(()=>J(b,"showCopy",ce)),b.$on("input",s[3]),q=new be({props:{level:3,width:s[1],$$slots:{default:[In]},$$scope:{ctx:s}}}),q.$on("click",s[9]),{c(){e=h("div"),Q(t.$$.fragment),i=R(),Q(o.$$.fragment),d=R(),Q(_.$$.fragment),N=R(),Q(b.$$.fragment),M=R(),Q(q.$$.fragment),V=R(),L=h("div"),D=A(s[5]),this.h()},l(m){e=v(m,"DIV",{class:!0});var y=g(e);X(t.$$.fragment,y),i=C(y),X(o.$$.fragment,y),d=C(y),X(_.$$.fragment,y),N=C(y),X(b.$$.fragment,y),M=C(y),X(q.$$.fragment,y),V=C(y),L=v(y,"DIV",{class:!0});var re=g(L);D=S(re,s[5]),re.forEach(f),y.forEach(f),this.h()},h(){I(L,"class","err svelte-dpnwj7"),I(e,"class","container svelte-dpnwj7")},m(m,y){T(m,e,y),Z(t,e,null),u(e,i),Z(o,e,null),u(e,d),Z(_,e,null),u(e,N),Z(b,e,null),u(e,M),Z(q,e,null),u(e,V),u(e,L),u(L,D),w=!0},p(m,y){const re={};!n&&y&16&&(n=!0,re.accepted=m[4],z(()=>n=!1)),!r&&y&64&&(r=!0,re.policy=m[6],z(()=>r=!1)),!a&&y&1&&(a=!0,re.password=m[0].new,z(()=>a=!1)),t.$set(re);const ae={};y&4&&(ae.width=m[2]),y&4194304&&(ae.$$scope={dirty:y,ctx:m}),!l&&y&1&&(l=!0,ae.value=m[0].current,z(()=>l=!1)),!c&&y&128&&(c=!0,ae.error=m[7].current,z(()=>c=!1)),o.$set(ae);const fe={};y&4&&(fe.width=m[2]),y&4194304&&(fe.$$scope={dirty:y,ctx:m}),!p&&y&1&&(p=!0,fe.value=m[0].new,z(()=>p=!1)),!k&&y&128&&(k=!0,fe.error=m[7].new,z(()=>k=!1)),!B&&y&256&&(B=!0,fe.showCopy=m[8],z(()=>B=!1)),_.$set(fe);const _e={};y&4&&(_e.width=m[2]),y&4194304&&(_e.$$scope={dirty:y,ctx:m}),!O&&y&1&&(O=!0,_e.value=m[0].verify,z(()=>O=!1)),!G&&y&128&&(G=!0,_e.error=m[7].verify,z(()=>G=!1)),!$&&y&256&&($=!0,_e.showCopy=m[8],z(()=>$=!1)),b.$set(_e);const oe={};y&2&&(oe.width=m[1]),y&4194304&&(oe.$$scope={dirty:y,ctx:m}),q.$set(oe),(!w||y&32)&&de(D,m[5])},i(m){w||(P(t.$$.fragment,m),P(o.$$.fragment,m),P(_.$$.fragment,m),P(b.$$.fragment,m),P(q.$$.fragment,m),w=!0)},o(m){F(t.$$.fragment,m),F(o.$$.fragment,m),F(_.$$.fragment,m),F(b.$$.fragment,m),F(q.$$.fragment,m),w=!1},d(m){m&&f(e),x(t),x(o),x(_),x(b),x(q)}}}function En(s){let e;return{c(){e=A("CURRENT PASSWORD")},l(t){e=S(t,"CURRENT PASSWORD")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function yn(s){let e;return{c(){e=A("NEW PASSWORD")},l(t){e=S(t,"NEW PASSWORD")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function kn(s){let e;return{c(){e=A("CONFIRM PASSWORD")},l(t){e=S(t,"CONFIRM PASSWORD")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function In(s){let e;return{c(){e=A("GENERATE RANDOM")},l(t){e=S(t,"GENERATE RANDOM")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function Nn(s){let e,t,n=s[6]&&Ts(s);return{c(){n&&n.c(),e=It()},l(r){n&&n.l(r),e=It()},m(r,a){n&&n.m(r,a),T(r,e,a),t=!0},p(r,[a]){r[6]?n?(n.p(r,a),a&64&&P(n,1)):(n=Ts(r),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(ge(),F(n,1,1,()=>{n=null}),we())},i(r){t||(P(n),t=!0)},o(r){F(n),t=!1},d(r){n&&n.d(r),r&&f(e)}}}function Dn(s,e,t){let{formValues:n={}}=e,{btnWidth:r=170}=e,{inputWidth:a}=e,i=!1,o="",l,c={},d;const _=Ls().shape({current:He().required("Current password is required"),new:He().required("New password is required"),verify:He().required("Password verification is required")});Us(async()=>{let w=await xs(),ne=await w.json();w.ok?t(6,l=ne):t(5,o=ne.message)});async function p(){t(5,o="");try{await _.validate(n,{abortEarly:!1}),t(7,c={})}catch(w){return t(7,c=Ws(w)),!1}return i?n.new!==n.verify?(t(5,o="New passwords do not match"),!1):!0:(t(5,o="You must follow the password policy"),!1)}function k(){const w=l.length_min>20?l.length_min:20;let ne=en(w,l.include_lower_case,l.include_upper_case,l.include_digits,l.include_special);t(0,n.new=ne,n),t(0,n.verify=ne,n)}function B(w){i=w,t(4,i)}function N(w){l=w,t(6,l)}function b(w){s.$$.not_equal(n.new,w)&&(n.new=w,t(0,n))}function O(w){s.$$.not_equal(n.current,w)&&(n.current=w,t(0,n))}function G(w){s.$$.not_equal(c.current,w)&&(c.current=w,t(7,c))}function $(w){s.$$.not_equal(n.new,w)&&(n.new=w,t(0,n))}function M(w){s.$$.not_equal(c.new,w)&&(c.new=w,t(7,c))}function q(w){d=w,t(8,d),t(0,n)}function V(w){s.$$.not_equal(n.verify,w)&&(n.verify=w,t(0,n))}function L(w){s.$$.not_equal(c.verify,w)&&(c.verify=w,t(7,c))}function D(w){d=w,t(8,d),t(0,n)}return s.$$set=w=>{"formValues"in w&&t(0,n=w.formValues),"btnWidth"in w&&t(1,r=w.btnWidth),"inputWidth"in w&&t(2,a=w.inputWidth)},s.$$.update=()=>{var w;s.$$.dirty&1&&t(8,d=((w=n.new)==null?void 0:w.length)>6&&n.new===n.verify)},[n,r,a,p,i,o,l,c,d,k,B,N,b,O,G,$,M,q,V,L,D]}class Vn extends je{constructor(e){super(),Pe(this,e,Dn,Nn,Re,{formValues:0,btnWidth:1,inputWidth:2,isValid:3})}get isValid(){return this.$$.ctx[3]}}function qn(s){let e;return{c(){e=A("E-MAIL")},l(t){e=S(t,"E-MAIL")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function An(s){let e;return{c(){e=A("GIVEN NAME")},l(t){e=S(t,"GIVEN NAME")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function Sn(s){let e;return{c(){e=A("FAMILY NAME")},l(t){e=S(t,"FAMILY NAME")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function Bs(s){let e,t,n,r,a,i;function o(d){s[16](d)}function l(d){s[17](d)}let c={btnWidth:es,inputWidth:kt};return s[1]!==void 0&&(c.formValues=s[1]),s[2]!==void 0&&(c.isValid=s[2]),t=new Vn({props:c}),H.push(()=>J(t,"formValues",o)),H.push(()=>J(t,"isValid",l)),{c(){e=h("div"),Q(t.$$.fragment)},l(d){e=v(d,"DIV",{});var _=g(e);X(t.$$.fragment,_),_.forEach(f)},m(d,_){T(d,e,_),Z(t,e,null),i=!0},p(d,_){const p={};!n&&_&2&&(n=!0,p.formValues=d[1],z(()=>n=!1)),!r&&_&4&&(r=!0,p.isValid=d[2],z(()=>r=!1)),t.$set(p)},i(d){i||(P(t.$$.fragment,d),a||ss(()=>{a=Qs(e,dn,{duration:350}),a.start()}),i=!0)},o(d){F(t.$$.fragment,d),i=!1},d(d){d&&f(e),x(t)}}}function jn(s){let e;return{c(){e=A("CHANGE PASSWORD")},l(t){e=S(t,"CHANGE PASSWORD")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function Pn(s){let e;return{c(){e=A("SAVE")},l(t){e=S(t,"SAVE")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function Rn(s){let e,t,n,r;return{c(){e=h("div"),t=A(s[3]),this.h()},l(a){e=v(a,"DIV",{class:!0});var i=g(e);t=S(i,s[3]),i.forEach(f),this.h()},h(){I(e,"class","err svelte-pupwei")},m(a,i){T(a,e,i),u(e,t),r=!0},p(a,i){(!r||i&8)&&de(t,a[3])},i(a){r||(ss(()=>{r&&(n||(n=Nt(e,Dt,{},!0)),n.run(1))}),r=!0)},o(a){n||(n=Nt(e,Dt,{},!1)),n.run(0),r=!1},d(a){a&&f(e),a&&n&&n.end()}}}function Cn(s){let e,t,n,r;return{c(){e=h("div"),t=A("Update successful"),this.h()},l(a){e=v(a,"DIV",{class:!0});var i=g(e);t=S(i,"Update successful"),i.forEach(f),this.h()},h(){I(e,"class","success svelte-pupwei")},m(a,i){T(a,e,i),u(e,t),r=!0},p:ts,i(a){r||(ss(()=>{r&&(n||(n=Nt(e,Dt,{},!0)),n.run(1))}),r=!0)},o(a){n||(n=Nt(e,Dt,{},!1)),n.run(0),r=!1},d(a){a&&f(e),a&&n&&n.end()}}}function Fn(s){let e,t,n,r,a,i,o,l,c,d,_,p,k,B,N,b,O,G,$,M,q,V,L,D;function w(E){s[10](E)}function ne(E){s[11](E)}let le={autocomplete:"family-name",placeholder:"E-Mail",width:kt,$$slots:{default:[qn]},$$scope:{ctx:s}};s[5].email!==void 0&&(le.value=s[5].email),s[6].email!==void 0&&(le.error=s[6].email),n=new zt({props:le}),H.push(()=>J(n,"value",w)),H.push(()=>J(n,"error",ne)),n.$on("input",s[8]);function ve(E){s[12](E)}function te(E){s[13](E)}let ue={autocomplete:"given-name",placeholder:"Given Name",width:kt,$$slots:{default:[An]},$$scope:{ctx:s}};s[5].givenName!==void 0&&(ue.value=s[5].givenName),s[6].givenName!==void 0&&(ue.error=s[6].givenName),o=new zt({props:ue}),H.push(()=>J(o,"value",ve)),H.push(()=>J(o,"error",te)),o.$on("input",s[8]);function me(E){s[14](E)}function ie(E){s[15](E)}let he={autocomplete:"email",placeholder:"Family Name",width:kt,$$slots:{default:[Sn]},$$scope:{ctx:s}};s[5].familyName!==void 0&&(he.value=s[5].familyName),s[6].familyName!==void 0&&(he.error=s[6].familyName),_=new zt({props:he}),H.push(()=>J(_,"value",me)),H.push(()=>J(_,"error",ie)),_.$on("input",s[8]);let j=s[0]&&Bs(s);function K(E){s[18](E)}let U={width:es,$$slots:{default:[jn]},$$scope:{ctx:s}};s[0]!==void 0&&(U.selected=s[0]),b=new be({props:U}),H.push(()=>J(b,"selected",K)),$=new be({props:{width:es,level:1,$$slots:{default:[Pn]},$$scope:{ctx:s}}}),$.$on("click",s[7]);const se=[Cn,Rn],ee=[];function ce(E,m){return E[4]?0:E[3]?1:-1}return~(V=ce(s))&&(L=ee[V]=se[V](s)),{c(){e=h("div"),t=h("div"),Q(n.$$.fragment),i=R(),Q(o.$$.fragment),d=R(),Q(_.$$.fragment),B=R(),j&&j.c(),N=R(),Q(b.$$.fragment),G=R(),Q($.$$.fragment),M=R(),q=h("div"),L&&L.c(),this.h()},l(E){e=v(E,"DIV",{class:!0});var m=g(e);t=v(m,"DIV",{class:!0});var y=g(t);X(n.$$.fragment,y),i=C(y),X(o.$$.fragment,y),d=C(y),X(_.$$.fragment,y),B=C(y),j&&j.l(y),N=C(y),X(b.$$.fragment,y),G=C(y),X($.$$.fragment,y),M=C(y),q=v(y,"DIV",{class:!0});var re=g(q);L&&L.l(re),re.forEach(f),y.forEach(f),m.forEach(f),this.h()},h(){I(q,"class","bottom svelte-pupwei"),I(t,"class","container svelte-pupwei"),I(e,"class","wrapper svelte-pupwei")},m(E,m){T(E,e,m),u(e,t),Z(n,t,null),u(t,i),Z(o,t,null),u(t,d),Z(_,t,null),u(t,B),j&&j.m(t,null),u(t,N),Z(b,t,null),u(t,G),Z($,t,null),u(t,M),u(t,q),~V&&ee[V].m(q,null),D=!0},p(E,[m]){const y={};m&8388608&&(y.$$scope={dirty:m,ctx:E}),!r&&m&32&&(r=!0,y.value=E[5].email,z(()=>r=!1)),!a&&m&64&&(a=!0,y.error=E[6].email,z(()=>a=!1)),n.$set(y);const re={};m&8388608&&(re.$$scope={dirty:m,ctx:E}),!l&&m&32&&(l=!0,re.value=E[5].givenName,z(()=>l=!1)),!c&&m&64&&(c=!0,re.error=E[6].givenName,z(()=>c=!1)),o.$set(re);const ae={};m&8388608&&(ae.$$scope={dirty:m,ctx:E}),!p&&m&32&&(p=!0,ae.value=E[5].familyName,z(()=>p=!1)),!k&&m&64&&(k=!0,ae.error=E[6].familyName,z(()=>k=!1)),_.$set(ae),E[0]?j?(j.p(E,m),m&1&&P(j,1)):(j=Bs(E),j.c(),P(j,1),j.m(t,N)):j&&(ge(),F(j,1,1,()=>{j=null}),we());const fe={};m&8388608&&(fe.$$scope={dirty:m,ctx:E}),!O&&m&1&&(O=!0,fe.selected=E[0],z(()=>O=!1)),b.$set(fe);const _e={};m&8388608&&(_e.$$scope={dirty:m,ctx:E}),$.$set(_e);let oe=V;V=ce(E),V===oe?~V&&ee[V].p(E,m):(L&&(ge(),F(ee[oe],1,1,()=>{ee[oe]=null}),we()),~V?(L=ee[V],L?L.p(E,m):(L=ee[V]=se[V](E),L.c()),P(L,1),L.m(q,null)):L=null)},i(E){D||(P(n.$$.fragment,E),P(o.$$.fragment,E),P(_.$$.fragment,E),P(j),P(b.$$.fragment,E),P($.$$.fragment,E),P(L),D=!0)},o(E){F(n.$$.fragment,E),F(o.$$.fragment,E),F(_.$$.fragment,E),F(j),F(b.$$.fragment,E),F($.$$.fragment,E),F(L),D=!1},d(E){E&&f(e),x(n),x(o),x(_),j&&j.d(),x(b),x($),~V&&ee[V].d()}}}const es=170,kt="300px";function Mn(s,e,t){let{user:n={}}=e,r=!1,a={},i,o="",l=!1,c=Ks(0,{duration:200,delay:200}),d={email:n.email,givenName:n.given_name,familyName:n.family_name},_={};const p=Ls().shape({email:He().required("E-Mail is required").email("Bad E-Mail format"),givenName:He().required("Given Name is required").matches(Cs,"Your given name with 2 - 32  non-special characters"),familyName:He().required("Family Name is required").matches(Cs,"Your family name with 2 - 32  non-special characters")});async function k(){if(!await B()){t(3,o="Invalid input");return}if(r&&!i())return;const w={email:d.email,given_name:d.givenName,family_name:d.familyName};r&&(w.password_current=a.current,w.password_new=a.new);let ne=await tn(n.id,w);if(ne.ok)t(4,l=!0),t(9,n.email=d.email,n),t(9,n.given_name=d.givenName,n),t(9,n.family_name=d.familyName,n);else{let le=await ne.json();t(3,o=le.message)}}async function B(){try{return await p.validate(d,{abortEarly:!1}),t(6,_={}),!0}catch(D){return t(6,_=Ws(D)),!1}}function N(D){s.$$.not_equal(d.email,D)&&(d.email=D,t(5,d))}function b(D){s.$$.not_equal(_.email,D)&&(_.email=D,t(6,_))}function O(D){s.$$.not_equal(d.givenName,D)&&(d.givenName=D,t(5,d))}function G(D){s.$$.not_equal(_.givenName,D)&&(_.givenName=D,t(6,_))}function $(D){s.$$.not_equal(d.familyName,D)&&(d.familyName=D,t(5,d))}function M(D){s.$$.not_equal(_.familyName,D)&&(_.familyName=D,t(6,_))}function q(D){a=D,t(1,a)}function V(D){i=D,t(2,i)}function L(D){r=D,t(0,r)}return s.$$set=D=>{"user"in D&&t(9,n=D.user)},s.$$.update=()=>{s.$$.dirty&1&&c.set(r?360:0)},[r,a,i,o,l,d,_,k,B,n,N,b,O,G,$,M,q,V,L]}class Tn extends je{constructor(e){super(),Pe(this,e,Mn,Fn,Re,{user:9})}}function Bn(s){let e,t,n,r,a,i;return a=new be({props:{$$slots:{default:[Un]},$$scope:{ctx:s}}}),a.$on("click",s[8]),{c(){e=h("div"),t=A("No Security key registered on this slot"),n=R(),r=h("div"),Q(a.$$.fragment),this.h()},l(o){e=v(o,"DIV",{});var l=g(e);t=S(l,"No Security key registered on this slot"),l.forEach(f),n=C(o),r=v(o,"DIV",{class:!0});var c=g(r);X(a.$$.fragment,c),c.forEach(f),this.h()},h(){I(r,"class","btn svelte-8y7xlm")},m(o,l){T(o,e,l),u(e,t),T(o,n,l),T(o,r,l),Z(a,r,null),i=!0},p(o,l){const c={};l&8192&&(c.$$scope={dirty:l,ctx:o}),a.$set(c)},i(o){i||(P(a.$$.fragment,o),i=!0)},o(o){F(a.$$.fragment,o),i=!1},d(o){o&&f(e),o&&f(n),o&&f(r),x(a)}}}function On(s){let e,t,n,r,a,i=s[0].sec_key_1+"",o,l,c,d,_;return d=new be({props:{level:3,$$slots:{default:[Wn]},$$scope:{ctx:s}}}),d.$on("click",s[7]),{c(){e=h("div"),t=h("div"),n=A("Security Key 1:"),r=R(),a=h("div"),o=A(i),l=R(),c=h("div"),Q(d.$$.fragment),this.h()},l(p){e=v(p,"DIV",{});var k=g(e);t=v(k,"DIV",{class:!0});var B=g(t);n=S(B,"Security Key 1:"),B.forEach(f),r=C(k),a=v(k,"DIV",{class:!0});var N=g(a);o=S(N,i),N.forEach(f),k.forEach(f),l=C(p),c=v(p,"DIV",{class:!0});var b=g(c);X(d.$$.fragment,b),b.forEach(f),this.h()},h(){I(t,"class","key svelte-8y7xlm"),I(a,"class","id svelte-8y7xlm"),I(c,"class","btn svelte-8y7xlm")},m(p,k){T(p,e,k),u(e,t),u(t,n),u(e,r),u(e,a),u(a,o),T(p,l,k),T(p,c,k),Z(d,c,null),_=!0},p(p,k){(!_||k&1)&&i!==(i=p[0].sec_key_1+"")&&de(o,i);const B={};k&8192&&(B.$$scope={dirty:k,ctx:p}),d.$set(B)},i(p){_||(P(d.$$.fragment,p),_=!0)},o(p){F(d.$$.fragment,p),_=!1},d(p){p&&f(e),p&&f(l),p&&f(c),x(d)}}}function Un(s){let e;return{c(){e=A("REGISTER")},l(t){e=S(t,"REGISTER")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function Wn(s){let e;return{c(){e=A("DELETE")},l(t){e=S(t,"DELETE")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function Gn(s){let e,t,n,r,a,i;return a=new be({props:{$$slots:{default:[Kn]},$$scope:{ctx:s}}}),a.$on("click",s[10]),{c(){e=h("div"),t=A("No Security key registered on this slot"),n=R(),r=h("div"),Q(a.$$.fragment),this.h()},l(o){e=v(o,"DIV",{});var l=g(e);t=S(l,"No Security key registered on this slot"),l.forEach(f),n=C(o),r=v(o,"DIV",{class:!0});var c=g(r);X(a.$$.fragment,c),c.forEach(f),this.h()},h(){I(r,"class","btn svelte-8y7xlm")},m(o,l){T(o,e,l),u(e,t),T(o,n,l),T(o,r,l),Z(a,r,null),i=!0},p(o,l){const c={};l&8192&&(c.$$scope={dirty:l,ctx:o}),a.$set(c)},i(o){i||(P(a.$$.fragment,o),i=!0)},o(o){F(a.$$.fragment,o),i=!1},d(o){o&&f(e),o&&f(n),o&&f(r),x(a)}}}function Ln(s){let e,t,n,r,a,i=s[0].sec_key_2+"",o,l,c,d,_;return d=new be({props:{level:3,$$slots:{default:[Yn]},$$scope:{ctx:s}}}),d.$on("click",s[9]),{c(){e=h("div"),t=h("div"),n=A("Security Key 2:"),r=R(),a=h("div"),o=A(i),l=R(),c=h("div"),Q(d.$$.fragment),this.h()},l(p){e=v(p,"DIV",{});var k=g(e);t=v(k,"DIV",{class:!0});var B=g(t);n=S(B,"Security Key 2:"),B.forEach(f),r=C(k),a=v(k,"DIV",{class:!0});var N=g(a);o=S(N,i),N.forEach(f),k.forEach(f),l=C(p),c=v(p,"DIV",{class:!0});var b=g(c);X(d.$$.fragment,b),b.forEach(f),this.h()},h(){I(t,"class","key svelte-8y7xlm"),I(a,"class","id svelte-8y7xlm"),I(c,"class","btn svelte-8y7xlm")},m(p,k){T(p,e,k),u(e,t),u(t,n),u(e,r),u(e,a),u(a,o),T(p,l,k),T(p,c,k),Z(d,c,null),_=!0},p(p,k){(!_||k&1)&&i!==(i=p[0].sec_key_2+"")&&de(o,i);const B={};k&8192&&(B.$$scope={dirty:k,ctx:p}),d.$set(B)},i(p){_||(P(d.$$.fragment,p),_=!0)},o(p){F(d.$$.fragment,p),_=!1},d(p){p&&f(e),p&&f(l),p&&f(c),x(d)}}}function Kn(s){let e;return{c(){e=A("REGISTER")},l(t){e=S(t,"REGISTER")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function Yn(s){let e;return{c(){e=A("DELETE")},l(t){e=S(t,"DELETE")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function Os(s){let e,t;return e=new cn({props:{text:"Test the registered security keys.<br>This makes sense after a new registration.",$$slots:{default:[Jn]},$$scope:{ctx:s}}}),{c(){Q(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,r){Z(e,n,r),t=!0},p(n,r){const a={};r&8192&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function Hn(s){let e;return{c(){e=A("TEST")},l(t){e=S(t,"TEST")},m(t,n){T(t,e,n)},d(t){t&&f(e)}}}function Jn(s){let e,t,n;return t=new be({props:{level:1,$$slots:{default:[Hn]},$$scope:{ctx:s}}}),t.$on("click",s[4]),{c(){e=h("div"),Q(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=g(e);X(t.$$.fragment,a),a.forEach(f),this.h()},h(){I(e,"class","button svelte-8y7xlm")},m(r,a){T(r,e,a),Z(t,e,null),n=!0},p(r,a){const i={};a&8192&&(i.$$scope={dirty:a,ctx:r}),t.$set(i)},i(r){n||(P(t.$$.fragment,r),n=!0)},o(r){F(t.$$.fragment,r),n=!1},d(r){r&&f(e),x(t)}}}function zn(s){let e,t,n,r,a,i,o,l,c,d,_,p,k,B,N,b,O,G,$,M,q,V,L,D,w,ne,le;const ve=[On,Bn],te=[];function ue(K,U){return K[0].sec_key_1?0:1}N=ue(s),b=te[N]=ve[N](s);const me=[Ln,Gn],ie=[];function he(K,U){return K[0].sec_key_2?0:1}q=he(s),V=ie[q]=me[q](s);let j=(s[0].sec_key_1||s[0].sec_key_2)&&Os(s);return{c(){e=h("div"),t=h("p"),n=A(`If you plan on using your MFA key with multiple Browsers like Firefox and a Chrome based Browsers, you
        should do the registration with Firefox only.
        `),r=h("br"),a=h("br"),i=A(`
        Firefox does sometimes not ask for an additional PIN, if the device supports this method for compatibility
        reasons. Chrome bases variants on the other hand do always try to use an additional PIN confirmation, if it
        exists.
        `),o=h("br"),l=h("br"),c=A(`
        If a device, that supports a PIN, was registered with a Chrome based browser, it will not work in Firefox at the
        time
        of writing. If it was registered with Firefox though, it will work with Chrome too.
        `),d=h("br"),_=h("br"),p=A(`
        You can register two Keys for your account.`),k=R(),B=h("div"),b.c(),O=R(),G=h("div"),$=R(),M=h("div"),V.c(),L=R(),j&&j.c(),D=R(),w=h("div"),ne=A(s[2]),this.h()},l(K){e=v(K,"DIV",{class:!0});var U=g(e);t=v(U,"P",{});var se=g(t);n=S(se,`If you plan on using your MFA key with multiple Browsers like Firefox and a Chrome based Browsers, you
        should do the registration with Firefox only.
        `),r=v(se,"BR",{}),a=v(se,"BR",{}),i=S(se,`
        Firefox does sometimes not ask for an additional PIN, if the device supports this method for compatibility
        reasons. Chrome bases variants on the other hand do always try to use an additional PIN confirmation, if it
        exists.
        `),o=v(se,"BR",{}),l=v(se,"BR",{}),c=S(se,`
        If a device, that supports a PIN, was registered with a Chrome based browser, it will not work in Firefox at the
        time
        of writing. If it was registered with Firefox though, it will work with Chrome too.
        `),d=v(se,"BR",{}),_=v(se,"BR",{}),p=S(se,`
        You can register two Keys for your account.`),se.forEach(f),k=C(U),B=v(U,"DIV",{class:!0});var ee=g(B);b.l(ee),ee.forEach(f),O=C(U),G=v(U,"DIV",{style:!0}),g(G).forEach(f),$=C(U),M=v(U,"DIV",{class:!0});var ce=g(M);V.l(ce),ce.forEach(f),L=C(U),j&&j.l(U),D=C(U),w=v(U,"DIV",{class:!0});var E=g(w);ne=S(E,s[2]),E.forEach(f),U.forEach(f),this.h()},h(){I(B,"class","keyContainer svelte-8y7xlm"),Zt(G,"height","20px"),I(M,"class","keyContainer svelte-8y7xlm"),I(w,"class","svelte-8y7xlm"),Et(w,"msg",!s[1]),Et(w,"err",s[1]),I(e,"class","container svelte-8y7xlm")},m(K,U){T(K,e,U),u(e,t),u(t,n),u(t,r),u(t,a),u(t,i),u(t,o),u(t,l),u(t,c),u(t,d),u(t,_),u(t,p),u(e,k),u(e,B),te[N].m(B,null),u(e,O),u(e,G),u(e,$),u(e,M),ie[q].m(M,null),u(e,L),j&&j.m(e,null),u(e,D),u(e,w),u(w,ne),le=!0},p(K,[U]){let se=N;N=ue(K),N===se?te[N].p(K,U):(ge(),F(te[se],1,1,()=>{te[se]=null}),we(),b=te[N],b?b.p(K,U):(b=te[N]=ve[N](K),b.c()),P(b,1),b.m(B,null));let ee=q;q=he(K),q===ee?ie[q].p(K,U):(ge(),F(ie[ee],1,1,()=>{ie[ee]=null}),we(),V=ie[q],V?V.p(K,U):(V=ie[q]=me[q](K),V.c()),P(V,1),V.m(M,null)),K[0].sec_key_1||K[0].sec_key_2?j?(j.p(K,U),U&1&&P(j,1)):(j=Os(K),j.c(),P(j,1),j.m(e,D)):j&&(ge(),F(j,1,1,()=>{j=null}),we()),(!le||U&4)&&de(ne,K[2]),(!le||U&2)&&Et(w,"msg",!K[1]),(!le||U&2)&&Et(w,"err",K[1])},i(K){le||(P(b),P(V),P(j),le=!0)},o(K){F(b),F(V),F(j),le=!1},d(K){K&&f(e),te[N].d(),ie[q].d(),j&&j.d()}}}function Qn(s,e,t){let{sessionInfo:n}=e,{user:r={}}=e,a=!1,i="";function o(){t(1,a=!1),t(2,i="")}async function l(){o();let b=await Gs(n.user_id);b.ok?t(0,r=await b.json()):xt("account")}async function c(b){o();let O=await sn(r.id,{slot:b});if(O.status===200){let G=await O.json();G.publicKey.challenge=yt(G.publicKey.challenge),G.publicKey.user.id=yt(G.publicKey.user.id);let $=await navigator.credentials.create(G),M={slot:b,data:{id:$.id,rawId:Se($.rawId),response:{attestationObject:Se($.response.attestationObject),clientDataJSON:Se($.response.clientDataJSON)},type:$.type}};O=await nn(r.id,M),O.status===201?await l():console.error(O)}else t(1,a=!0),t(2,i="Error starting the Registration process")}async function d(){o();let b=await rn(r.id,{purpose:"Test"});if(b.status===200){let O=await b.json(),G=O.rcr;G.publicKey.challenge=yt(G.publicKey.challenge);for(let q of G.publicKey.allowCredentials)q.id=yt(q.id);let $;try{$=await navigator.credentials.get(G)}catch{t(1,a=!0),t(2,i="Invalid Key used");return}let M={code:O.code,data:{id:$.id,rawId:Se($.rawId),response:{authenticatorData:Se($.response.authenticatorData),clientDataJSON:Se($.response.clientDataJSON),signature:Se($.response.signature)},type:$.type}};b=await ln(r.id,M),b.status===202?t(2,i="Test successful"):console.error(b)}else t(1,a=!0),t(2,i="Error starting the Test")}async function _(b){let O=await an(r.id,b);if(O.status===200)await l();else{let G=await O.json();t(1,a=!0),t(2,i=G.message)}}const p=()=>_(1),k=()=>c(1),B=()=>_(2),N=()=>c(2);return s.$$set=b=>{"sessionInfo"in b&&t(6,n=b.sessionInfo),"user"in b&&t(0,r=b.user)},[r,a,i,c,d,_,n,p,k,B,N]}class Xn extends je{constructor(e){super(),Pe(this,e,Qn,zn,Re,{sessionInfo:6,user:0})}}function Zn(s){let e,t,n,r;function a(l){s[9](l)}function i(l){s[10](l)}let o={};return s[0]!==void 0&&(o.sessionInfo=s[0]),s[1]!==void 0&&(o.user=s[1]),e=new Xn({props:o}),H.push(()=>J(e,"sessionInfo",a)),H.push(()=>J(e,"user",i)),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,c){Z(e,l,c),r=!0},p(l,c){const d={};!t&&c&1&&(t=!0,d.sessionInfo=l[0],z(()=>t=!1)),!n&&c&2&&(n=!0,d.user=l[1],z(()=>n=!1)),e.$set(d)},i(l){r||(P(e.$$.fragment,l),r=!0)},o(l){F(e.$$.fragment,l),r=!1},d(l){x(e,l)}}}function xn(s){let e,t,n;function r(i){s[8](i)}let a={};return s[1]!==void 0&&(a.user=s[1]),e=new Tn({props:a}),H.push(()=>J(e,"user",r)),{c(){Q(e.$$.fragment)},l(i){X(e.$$.fragment,i)},m(i,o){Z(e,i,o),n=!0},p(i,o){const l={};!t&&o&2&&(t=!0,l.user=i[1],z(()=>t=!1)),e.$set(l)},i(i){n||(P(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function er(s){let e,t,n;function r(i){s[7](i)}let a={};return s[1]!==void 0&&(a.user=s[1]),e=new vn({props:a}),H.push(()=>J(e,"user",r)),{c(){Q(e.$$.fragment)},l(i){X(e.$$.fragment,i)},m(i,o){Z(e,i,o),n=!0},p(i,o){const l={};!t&&o&2&&(t=!0,l.user=i[1],z(()=>t=!1)),e.$set(l)},i(i){n||(P(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){x(e,i)}}}function tr(s){let e,t,n,r,a,i,o,l,c,d,_,p,k;function B($){s[6]($)}let N={};s[2]!==void 0&&(N.selected=s[2]),i=new $n({props:N}),H.push(()=>J(i,"selected",B));const b=[er,xn,Zn],O=[];function G($,M){return $[3]==="INFO"?0:$[3]==="EDIT"?1:$[3]==="MFA"?2:-1}return~(_=G(s))&&(p=O[_]=b[_](s)),{c(){e=h("div"),t=h("h2"),n=A("User Account"),r=R(),a=h("div"),Q(i.$$.fragment),l=R(),c=h("div"),d=h("div"),p&&p.c(),this.h()},l($){e=v($,"DIV",{class:!0});var M=g(e);t=v(M,"H2",{});var q=g(t);n=S(q,"User Account"),q.forEach(f),M.forEach(f),r=C($),a=v($,"DIV",{class:!0});var V=g(a);X(i.$$.fragment,V),l=C(V),c=v(V,"DIV",{class:!0});var L=g(c);d=v(L,"DIV",{style:!0});var D=g(d);p&&p.l(D),D.forEach(f),L.forEach(f),V.forEach(f),this.h()},h(){I(e,"class","header svelte-12xunhh"),Zt(d,"opacity",s[4]),I(c,"class","inner svelte-12xunhh"),I(a,"class","container svelte-12xunhh")},m($,M){T($,e,M),u(e,t),u(t,n),T($,r,M),T($,a,M),Z(i,a,null),u(a,l),u(a,c),u(c,d),~_&&O[_].m(d,null),k=!0},p($,[M]){const q={};!o&&M&4&&(o=!0,q.selected=$[2],z(()=>o=!1)),i.$set(q);let V=_;_=G($),_===V?~_&&O[_].p($,M):(p&&(ge(),F(O[V],1,1,()=>{O[V]=null}),we()),~_?(p=O[_],p?p.p($,M):(p=O[_]=b[_]($),p.c()),P(p,1),p.m(d,null)):p=null),(!k||M&16)&&Zt(d,"opacity",$[4])},i($){k||(P(i.$$.fragment,$),P(p),k=!0)},o($){F(i.$$.fragment,$),F(p),k=!1},d($){$&&f(e),$&&f(r),$&&f(a),x(i),~_&&O[_].d()}}}function sr(s,e,t){let n,{sessionInfo:r={}}=e,{user:a={}}=e,i=Ks(1,{duration:250});Xs(s,i,N=>t(4,n=N));let o="INFO",l="INFO";function c(){i.set(0).then(()=>t(3,o=l)).then(()=>i.set(1))}function d(N){l=N,t(2,l)}function _(N){a=N,t(1,a)}function p(N){a=N,t(1,a)}function k(N){r=N,t(0,r)}function B(N){a=N,t(1,a)}return s.$$set=N=>{"sessionInfo"in N&&t(0,r=N.sessionInfo),"user"in N&&t(1,a=N.user)},s.$$.update=()=>{s.$$.dirty&4&&l&&c(),s.$$.dirty&4&&l==="LOGOUT"&&on()},[r,a,l,o,n,i,d,_,p,k,B]}class nr extends je{constructor(e){super(),Pe(this,e,sr,tr,Re,{sessionInfo:0,user:1})}}function rr(s){let e,t,n,r;function a(l){s[3](l)}function i(l){s[4](l)}let o={};return s[0]!==void 0&&(o.sessionInfo=s[0]),s[1]!==void 0&&(o.user=s[1]),e=new nr({props:o}),H.push(()=>J(e,"sessionInfo",a)),H.push(()=>J(e,"user",i)),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,c){Z(e,l,c),r=!0},p(l,c){const d={};!t&&c&1&&(t=!0,d.sessionInfo=l[0],z(()=>t=!1)),!n&&c&2&&(n=!0,d.user=l[1],z(()=>n=!1)),e.$set(d)},i(l){r||(P(e.$$.fragment,l),r=!0)},o(l){F(e.$$.fragment,l),r=!1},d(l){x(e,l)}}}function lr(s){let e,t;return e=new fn({}),{c(){Q(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,r){Z(e,n,r),t=!0},p:ts,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function ir(s){let e,t,n,r;const a=[lr,rr],i=[];function o(l,c){return l[2]?1:0}return e=o(s),t=i[e]=a[e](s),{c(){t.c(),n=It()},l(l){t.l(l),n=It()},m(l,c){i[e].m(l,c),T(l,n,c),r=!0},p(l,c){let d=e;e=o(l),e===d?i[e].p(l,c):(ge(),F(i[d],1,1,()=>{i[d]=null}),we(),t=i[e],t?t.p(l,c):(t=i[e]=a[e](l),t.c()),P(t,1),t.m(n.parentNode,n))},i(l){r||(P(t),r=!0)},o(l){F(t),r=!1},d(l){i[e].d(l),l&&f(n)}}}function ar(s){var a;let e,t,n,r;return document.title=e="Account "+((a=s[1])==null?void 0:a.email),n=new pn({props:{$$slots:{default:[ir]},$$scope:{ctx:s}}}),{c(){t=R(),Q(n.$$.fragment)},l(i){Zs("svelte-12c5nya",document.head).forEach(f),t=C(i),X(n.$$.fragment,i)},m(i,o){T(i,t,o),Z(n,i,o),r=!0},p(i,[o]){var c;(!r||o&2)&&e!==(e="Account "+((c=i[1])==null?void 0:c.email))&&(document.title=e);const l={};o&39&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){r||(P(n.$$.fragment,i),r=!0)},o(i){F(n.$$.fragment,i),r=!1},d(i){i&&f(t),x(n,i)}}}function or(s,e,t){let n,r,a=!1;Us(async()=>{let l=await un();l.ok?(t(0,n=await l.json()),l=await Gs(n.user_id),l.ok?(t(1,r=await l.json()),t(2,a=!0)):xt("account")):xt("account")});function i(l){n=l,t(0,n)}function o(l){r=l,t(1,r)}return[n,r,a,i,o]}class wr extends je{constructor(e){super(),Pe(this,e,or,ar,Re,{})}}export{wr as component};
